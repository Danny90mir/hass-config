type: vertical-stack
cards:
  - type: picture-elements
    image: !file /local/images/Bottenvåning.png
    elements:

      {% macro lamp(entity, x, y) -%}
      - entity: {{entity}}
        style: { left: {{x}}%, top: {{y}}% }
        type: state-icon
        tap_action: { action: toggle }
      {%- endmacro %}
      {% macro dimlamp(entity, x, y) -%}
      - entity: {{entity}}
        style: { left: {{x}}%, top: {{y}}% }
        type: state-icon
        tap_action: { action: toggle }
        hold_action: { action: more-info }
      {%- endmacro %}

      # Kontoret
      {{ dimlamp('light.taklampa_kontoret', 82, 68) }}
      {{ lamp('light.kontor_fonster', 83, 87) }}
      {{ dimlamp('light.skrivbordslampa_1', 88, 58) }}

      # Lilla hallen
      {{ dimlamp('light.lilla_hallen', 72, 53) }}

      # Stora hallen
      {{ dimlamp('light.stora_hallen', 43, 70) }}
      {{ lamp('light.trappbelysning', 49, 61) }}

     # Köket
      {{ dimlamp('light.taklampa_koket', 32, 76) }}
      - type: state-icon
        entity: switch.kaffebryggare
        tap_action: { action: toggle }
        style: { left: 16%, top: 84% }

    # Vardagsrummet
      {{ dimlamp('light.vardagsrum', 60, 30) }}
      {{ dimlamp('light.takflakt', 43, 30) }}
      {{ lamp('light.bokhylla', 55, 45) }}
      {{ lamp('light.deko_vardagsrum', 49, 15) }}
      - type: state-label
        entity: sensor.vardagsrum_0
        style: { left: 40%, top: 36% }

    # Sovrum
      {{ dimlamp('light.sovrum', 81, 30) }}

    # Tvättstuga
      {{ lamp('light.skotbord', 21, 15) }}

    # Utomhus
      {{ lamp('light.ute_framsidan', 44, 94) }}
      {{ lamp('light.ute_framsidan', 16, 94) }}
      {{ lamp('light.ute_framsidan', 60, 94) }}
      {{ lamp('light.ute_framsidan', 75, 94) }}
      {{ lamp('light.ute_framsidan', 95, 30) }}
      {{ lamp('light.ute_framsidan', 95, 70) }}
      - type: state-label
        entity: sensor.elmatare_0
        style: { left: 5%, top: 55% }

  - type: custom:popup-card
    entity: light.takflakt
    title: Takfläkt
    card:
      type: entities
      entities:
        - type: custom:slider-entity-row
          entity: light.takflakt
          name: All
        - type: section
        - type: custom:slider-entity-row
          entity: light.takflakt_1
          name: 1
        - type: custom:slider-entity-row
          entity: light.takflakt_2
          name: 2
        - type: custom:slider-entity-row
          entity: light.takflakt_3
          name: 3
        - type: custom:slider-entity-row
          entity: light.takflakt_4
          name: 4
